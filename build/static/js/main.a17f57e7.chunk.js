(this["webpackJsonpcarta-ya"]=this["webpackJsonpcarta-ya"]||[]).push([[0],{102:function(e,t,a){},103:function(e,t,a){},104:function(e,t,a){},106:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(8),c=a.n(o);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(94);var l=a(14),i=a(11),m=a(17),s=a(16),u=(a(99),a(45)),d=a(21),p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(n.useState)(e),a=Object(s.a)(t,2),r=a[0],o=a[1],c=function(){o(e)},l=function(e){var t=e.target;o(Object(d.a)(Object(d.a)({},r),{},Object(u.a)({},t.name,t.value)))};return[r,l,c]},g={login:"[Auth] Login",loggout:"[Auth] Logout",loginAdmin:"[Admin] Login",logoutAdmin:"[Admin] Logout",LogSetError:"[User] Set Error",LogRemoveError:"[User] Remove Error",LogSetErrorAdmin:"[Admin] Set Error",colores:"[CM] colorP",colorS:"[CM] colorS"},E=a(142),_=a(146),h=function(e){var t=e.history,a=Object(m.b)(),o=Object(n.useRef)(null),c=Object(n.useRef)(null),l=Object(n.useRef)(null),i=Object(n.useRef)(),u=Object(n.useState)("#FFFFFF"),d=Object(s.a)(u,2),h=d[0],f=d[1],b=Object(n.useState)("#FFFFFF"),v=Object(s.a)(b,2),N=v[0],y=v[1],O=Object(n.useState)("/assets/logo.png"),j=Object(s.a)(O,2),w=j[0],S=j[1],A=p(""),C=Object(s.a)(A,2),L=C[0],x=C[1];return r.a.createElement("div",{className:"content__custom"},r.a.createElement("form",{className:"form__custom",onSubmit:function(e){e.preventDefault(),a(function(e,t,a,n){return{type:g.colores,payload:{colorP:e,colorS:t,datos:a,url:n}}}(h,N,L,w)),t.push("/custom/menu")}},r.a.createElement("h1",{className:"title__custom"},"Personalizar Menu"),r.a.createElement("div",{className:"content__input"},r.a.createElement("label",{className:"text__input"},"Escoger Color primario"),r.a.createElement("input",{ref:o,value:h,onChange:function(e){f(o.current.value)},type:"color",color:"secondary"})),r.a.createElement("div",{className:"content__input"},r.a.createElement("label",{className:"text__input"},"Escoger Color secundario"),r.a.createElement("input",{ref:c,value:N,onChange:function(e){y(c.current.value)},type:"color",color:"secondary"})),r.a.createElement("div",{className:"content__logo"},r.a.createElement("label",{className:"text__input"}," Subir Logo"),r.a.createElement("div",{className:"logo"},r.a.createElement("img",{ref:i,src:w,className:"logo",onChange:function(e){var t=document.querySelector("img");console.log(t)},alt:"logo"})),r.a.createElement(E.a,{ref:l,type:"file",onChange:function(){var e=document.querySelector("img"),t=document.querySelector("input[type=file]").files[0],a=new FileReader;a.onloadend=function(){e.src=a.result,S(e.src)},t?a.readAsDataURL(t):e.src="",console.log(e.src)},accept:"image/*"})),r.a.createElement("div",{className:"content__input "},r.a.createElement("label",{className:"text__input"},"Nombre"),r.a.createElement("input",{className:"input__empresa",type:"text",name:"NombreE",placeholder:"Nombre de la empresa",onChange:x})),r.a.createElement("div",{className:"content__input "},r.a.createElement("label",{className:"text__input"},"Telefono"),r.a.createElement("input",{className:"input__empresa",type:"text",name:"telefono",placeholder:"Telefono",onChange:x})),r.a.createElement("div",{className:"content__input "},r.a.createElement("label",{className:"text__input"},"Direccion"),r.a.createElement("input",{className:"input__empresa",type:"text",name:"direccion",placeholder:"Direccion",onChange:x})),r.a.createElement(_.a,{className:"btn",variant:"contained",type:"submit",color:"secondary",style:{marginTop:"40px"}},"Aceptar"))," ",r.a.createElement(_.a,{className:"btn",onClick:function(e){a({type:g.loggout}),console.log("deslogueado")},color:"secondary",variant:"contained"},"Logout"))},f=a(27),b=function(e){var t=e.isLoggedIn,a=e.component,n=Object(f.a)(e,["isLoggedIn","component"]);return r.a.createElement(i.b,Object.assign({},n,{component:function(e){return t?r.a.createElement(i.a,{to:"/custom"}):r.a.createElement(a,e)}}))},v=function(e){var t=e.isLoggedIn,a=(e.isAdmin,e.component),n=Object(f.a)(e,["isLoggedIn","isAdmin","component"]);return localStorage.setItem("lastPath",n.location.pathname),r.a.createElement(i.b,Object.assign({},n,{component:function(e){return t?r.a.createElement(a,e):r.a.createElement(i.a,{to:"/login"})}}))},N=function(e){var t=e.isAdmin,a=e.component,n=Object(f.a)(e,["isAdmin","component"]);return localStorage.setItem("lastPath",n.location.pathname),r.a.createElement(i.b,Object.assign({},n,{component:function(e){return t?r.a.createElement(a,e):r.a.createElement(i.a,{to:"/admin"})}}))},y=(a(65),a(153)),O=a(57),j=a.n(O),w=a(72),S=function(){var e=Object(w.a)(j.a.mark((function e(t,a){var n,r,o,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="http://montesanto.graciadev.com/api/login/login?user=".concat(t,"&pass=").concat(a),e.next=3,fetch(n);case 3:return r=e.sent,e.next=6,r.json();case 6:return o=e.sent,c=o.content,e.abrupt("return",c);case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),A=function(){var e=Object(m.b)(),t=Object(m.c)((function(e){return e.auth})),a=t.error,n=t.msgError,o=p({user:"admin",password:"123456"}),c=Object(s.a)(o,2),i=c[0],u=c[1],d=i.user,E=i.password;return r.a.createElement("div",{className:"content__form-login"},r.a.createElement("form",{className:"form__login",onSubmit:function(t){t.preventDefault(),S(d,E).then((function(t){e(t?function(e,t){return{type:g.login,payload:{user:e,password:t}}}(d,E):function(e){return{type:g.LogSetError,payload:e}}("Usuario o contrase\xf1a incorrecta"))}))}},r.a.createElement("h1",{className:"name__carta"}," Carta YA ! "),r.a.createElement("input",{type:"text",placeholder:"Email",name:"user",value:d,className:"auth__input",onChange:u,id:"id__email"}),r.a.createElement("input",{type:"password",placeholder:"Password",name:"password",value:E,className:"auth__input",onChange:u}),r.a.createElement(_.a,{className:"btn",type:"submit",variant:"contained",color:"secondary",size:"large"}," Login"),a&&r.a.createElement(y.a,{severity:"error"},n),r.a.createElement(l.b,{className:"text__registro",to:"/admin"}," Admin "),r.a.createElement(l.b,{className:"text__registro",to:"/auth/register"},"Registrarse")))},C=function(){return r.a.createElement("div",{className:"content__form-login"},r.a.createElement("form",{className:"form__login"},r.a.createElement("h3",{className:"name__carta"},"Registro "),r.a.createElement("input",{type:"text",placeholder:"Name",name:"name",className:"auth__input",autoComplete:"off",id:"id__email"}),r.a.createElement("input",{type:"text",placeholder:"Email",name:"email",className:"auth__input"}),r.a.createElement("input",{type:"password",placeholder:"Password",name:"password",className:"auth__input"}),r.a.createElement("input",{type:"password",placeholder:"Confirm Password ",name:"password2",className:"auth__input"}),r.a.createElement(_.a,{variant:"contained",color:"secondary",type:"onSubmit",className:"btn"},"Registrarme"),r.a.createElement(l.b,{to:"/auth/login",className:" text__registro"},"\xbf Ya esta registrado ?")))},L=a(152),x=(a(102),function(e){e.history;var t=Object(m.b)(),a=Object(m.c)((function(e){return e.auth})),n=a.errorAdmin,o=a.msgErrorAdmin,c=p({user:"admin",password:"123456"}),i=Object(s.a)(c,2),u=i[0],d=i[1],E=u.user,h=u.password;return r.a.createElement("div",{className:"contain__admin_login"},r.a.createElement("div",{className:"contain__form-login"},r.a.createElement("form",{className:"form__login-admin",noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),S(E,h).then((function(e){t(e?function(e,t){return{type:g.loginAdmin,payload:{adminN:e,password:t}}}(E,h):{type:g.LogSetErrorAdmin,payload:"Usuario o contrase\xf1a incorrecta"})}))}},r.a.createElement("h1",{className:"text__login"},"LOGIN"),n&&r.a.createElement(y.a,{severity:"error"},o),r.a.createElement(L.a,{id:"standard-basic",label:"Usuario",value:E,name:"user",onChange:d}),r.a.createElement(L.a,{id:"filled-basic",label:"Contrase\xf1a",value:h,name:"password",onChange:d}),r.a.createElement(_.a,{variant:"contained",color:"secondary",type:"onSubmit",className:"btn__login"},"Login"),r.a.createElement(l.b,{className:"text__registro",to:"/auth"}," User "))))}),I=function(){return r.a.createElement("div",{className:"auth__main"},r.a.createElement("div",{className:"auth__box-container"},r.a.createElement(i.d,null,r.a.createElement(i.b,{path:"/auth/login",component:A}),r.a.createElement(i.b,{path:"/auth/register",component:C}),r.a.createElement(i.a,{to:"/auth/login"}))))},R=(a(103),function(){var e=Object(m.c)((function(e){return e.custom})),t=e.colorP,a=e.colorS,n=e.url;return console.log(n),r.a.createElement("div",{className:"content__menu",style:{backgroundColor:t}},r.a.createElement("div",{className:"menu"},r.a.createElement("nav",{className:"nav__menu",style:{backgroundColor:a}},r.a.createElement("div",{className:"logo"},r.a.createElement("img",{src:n,alt:"logo"})),r.a.createElement("ul",{className:"list__nav"},r.a.createElement("li",{className:"item__nav"},"Entradas"),r.a.createElement("li",{className:"item__nav"},"Platos Fuertes"),r.a.createElement("li",{className:"item__nav"},"Postres"),r.a.createElement("li",{className:"item__nav"},"Bebidas"))),r.a.createElement("div",{className:"content__menu-info"},r.a.createElement("h1",null,"Menu")),r.a.createElement(l.b,{to:"/drap"}," drap and drop ")))}),k=(a(79),a(104),a(150)),F=a(151),P=a(108),D=a(147),M=a(75),U=a.n(M),T=a(76),z=a.n(T),B=a(154),q=a(149),J=a(148),V=a(155),W=a(78),X=function(){var e=r.a.useState(!0),t=Object(s.a)(e,2),a=t[0],n=t[1],o=r.a.useState(null),c=Object(s.a)(o,2),l=c[0],i=c[1],m=Boolean(l),u=function(){i(null)};return r.a.createElement("div",null,r.a.createElement(J.a,null,r.a.createElement(q.a,{control:r.a.createElement(B.a,{checked:a,onChange:function(e){n(e.target.checked)},"aria-label":"login switch"}),label:a?"Logout":"Login"})),r.a.createElement(k.a,{position:"static"},r.a.createElement(F.a,null,r.a.createElement(D.a,{edge:"start",color:"inherit","aria-label":"menu"},r.a.createElement(U.a,null)),r.a.createElement(P.a,{variant:"h6"},"ADMINISTRADOR"),a&&r.a.createElement("div",null,r.a.createElement(D.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){i(e.currentTarget)},color:"inherit"},r.a.createElement(z.a,null)),r.a.createElement(W.a,{id:"menu-appbar",anchorEl:l,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:m,onClose:u},r.a.createElement(V.a,{onClick:u},"Profile"),r.a.createElement(V.a,{onClick:u},"My account"))))))},Y=function(){return r.a.createElement("div",{className:"auth__main"},r.a.createElement("div",{className:"auth__box-container"},r.a.createElement(i.d,null,r.a.createElement(i.b,{exact:!0,path:"/",component:X}),r.a.createElement(i.a,{to:"/auth/admin"}))))},G=function(e){var t=e.isAdmin,a=e.component,n=Object(f.a)(e,["isAdmin","component"]);return localStorage.setItem("lastPath",n.location.pathname),r.a.createElement(i.b,Object.assign({},n,{component:function(e){return t?r.a.createElement(i.a,{to:"/"}):r.a.createElement(a,e)}}))};function $(){var e=Object(m.c)((function(e){return e.auth})),t=e.logged,a=e.admin;return console.log(t,a),r.a.createElement(l.a,null,r.a.createElement("div",null,r.a.createElement(i.d,null,r.a.createElement(b,{isLoggedIn:t,path:"/auth",component:I}),r.a.createElement(N,{isAdmin:a,exact:!0,path:"/",component:Y}),r.a.createElement(G,{isAdmin:a,path:"/admin",component:x}),r.a.createElement(v,{isLoggedIn:t,path:"/custom/menu",component:R}),r.a.createElement(v,{isLoggedIn:t,exact:!0,path:"/custom",component:h}),r.a.createElement(i.a,{to:"/auth/login"}))))}var H=a(35),K=a(77),Q="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||H.d,Z=Object(H.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{logged:!1,admin:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.login:return Object(d.a)(Object(d.a)({},t.payload),{},{logged:!0,admin:!1});case g.loggout:return Object(d.a)(Object(d.a)({},t.payload),{},{logged:!1,admin:!1});case g.loginAdmin:return Object(d.a)(Object(d.a)({},t.payload),{},{admin:!0,logged:!1});case g.logoutAdmin:return{admin:!1,logged:!1};case g.LogSetError:return{error:!0,msgError:t.payload};case g.LogSetErrorAdmin:return{errorAdmin:!0,msgErrorAdmin:t.payload};case g.LogRemoveError:return{error:null,msgError:null};default:return e}},custom:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.colores:return Object(d.a)({},t.payload);default:return e}}}),ee=Object(H.e)(Z,Q(Object(H.a)(K.a))),te=function(){return r.a.createElement(m.a,{store:ee},r.a.createElement($,null))};c.a.render(r.a.createElement(te,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},65:function(e,t,a){},89:function(e,t,a){e.exports=a(106)},94:function(e,t,a){},99:function(e,t,a){}},[[89,1,2]]]);
//# sourceMappingURL=main.a17f57e7.chunk.js.map